(function(){angular.module("iAspireApp").controller("LoginController",["DataService","$scope","SMAAlertFactory","ProjectConstants",function(e,b,c,d){b.AppC.ShowHeader=!1;b.AppC.ShowFooter=!1;b.AppC.ActivePageName="";var a=this;a.AnimationClass="pageTransitionAnimation";a.UserLoginUserName=b.AppC.userLogin;a.UserLoginPassword=b.AppC.userPassword;a.ModuleName=d.App.ModuleName;a.Login=function(){!0===d.App.IsDownForMaintenance?c.CreateInfoAlert("Oops!","iAspire is currently down for maintenance.\nPlease try again later."):
a.UserLoginUserName&&""!==a.UserLoginUserName?a.UserLoginPassword&&""!==a.UserLoginPassword?(a.userClickedButton=!0,a.ModuleName&&""!==a.ModuleName||(a.ModuleName="Unspecified"),e.validateUserLogin({UserLoginUserName:a.UserLoginUserName,UserLoginPassword:a.UserLoginPassword,ModuleName:a.ModuleName}).success(function(a,c,d,e){b.AppC.ActiveUser=a}).error(function(b,d,e,f){403===d?c.CreateInfoAlert(b,"Please contact iAspire for more information!"):c.CreateInfoAlert("Invalid Login","Login credentials were incorrect\nPlease try again.");
a.userClickedButton=!1})):c.CreateInfoAlert("Oops!","Please enter a password."):c.CreateInfoAlert("Oops!","Please enter a valid username.")};a.keyPressedEmail=function(a){13===a.keyCode&&$("#PasswordTextboxPosition").focus()};a.keyPressedPassword=function(b){13===b.keyCode&&a.Login()};a.userClickedButton=!1;return a}])})();
